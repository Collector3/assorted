/**
 * This file contains a 2D vector representation of your InkScape file.
 * You can set the global variable "$fn" to alter the precision of the curves.
 * You should use "linear_extrude" or "rotate_extrude" to give it some volume.
 */

// length of your new tray in milimeters (mm)
// 154mm = the length of trays (purple/white switch picture), 14mm = width of one Kailh switch, 15.66mm = Zealio/Gateon housing, 15.60 (Cherry MX, not recommended due to loose fit)
tray_length = 154;
linear_extrude(height = tray_length, center = false, convexity = 10) tray();
// Group ID: g111
module tray() {
	// Path ID: path45
	bezier_polygon([[[366.06086, -510.12609], [366.06086, -510.12609], [366.06086, -510.92613], [366.06086, -510.92613]], [[366.06086, -510.92613], [366.06086, -510.92613], [363.66092, -510.92613], [363.66092000000003, -510.92613000000006]], [[363.66092000000003, -510.92613000000006], [363.5283147094606, -510.92612948809784], [363.40114040073706, -510.97880976645297], [363.3073740520929, -511.072581741189]], [[363.3073740520929, -511.072581741189], [363.21360770344876, -511.1663537159251], [363.1609301909448, -511.2935360501197], [363.16092999999995, -511.42614999999205]], [[363.16092999999995, -511.42614999999205], [363.16092999999995, -511.42614999999205], [363.16092999999995, -516.32635], [363.16092999999995, -516.32635]], [[363.16092999999995, -516.32635], [363.16092999999995, -516.32635], [364.16090999999994, -517.3263900000001], [364.16090999999994, -517.3263900000001]], [[364.16090999999994, -517.3263900000001], [364.16090999999994, -517.3263900000001], [365.16088999999994, -517.3263900000001], [365.16088999999994, -517.3263900000001]], [[365.16088999999994, -517.3263900000001], [365.16088999999994, -517.3263900000001], [365.16088999999994, -518.92646], [365.16088999999994, -518.92646]], [[365.16088999999994, -518.92646], [365.16088999999994, -518.92646], [362.45084999999995, -518.92646], [362.45085, -518.92646]], [[362.45085, -518.92646], [362.2132572412132, -518.9264614454263], [362.0084769247861, -518.7592479440746], [361.96096000000006, -518.52644]], [[361.96096000000006, -518.52644], [361.65728105695115, -518.4913131312729], [361.4047560977648, -518.2765100319098], [361.3213598433774, -517.9823825078678]], [[361.3213598433774, -517.9823825078678], [361.23796358899006, -517.6882549838259], [361.3401580605049, -517.3728623993225], [361.58019999999993, -517.18355]], [[361.58019999999993, -517.18355], [361.8206495503615, -516.993914470968], [361.9609595568398, -516.7045536413452], [361.96096, -516.3983099999982]], [[361.96096, -516.3983099999982], [361.96096, -516.3983099999982], [361.96095999999994, -516.1543899999999], [361.96096, -516.1543900000056]], [[361.96096, -516.1543900000056], [361.96096261897225, -515.8481428494941], [361.8206523056262, -515.5587777020108], [361.58019999999993, -515.3691399999999]], [[361.58019999999993, -515.3691399999999], [361.398661970197, -515.2259648824163], [361.29272903461356, -515.007498052415], [361.29272903461356, -514.7762849999999]], [[361.29272903461356, -514.7762849999999], [361.29272903461356, -514.5450719475848], [361.39866197019705, -514.3266051175837], [361.5802, -514.1834299999999]], [[361.5802, -514.1834299999999], [361.8206523056262, -513.993792297989], [361.96096261897225, -513.7044271505056], [361.96096, -513.3981799999941]], [[361.96096, -513.3981799999941], [361.96096, -513.3981799999941], [361.96095999999994, -513.1542599999999], [361.96096, -513.1542600000015]], [[361.96096, -513.1542600000015], [361.9609595568398, -512.8480163586546], [361.82064955036157, -512.5586555290317], [361.58019999999993, -512.3690199999999]], [[361.58019999999993, -512.3690199999999], [361.3986582144006, -512.2258450694042], [361.29272269482396, -512.0073758859055], [361.29272269482396, -511.7761599999999]], [[361.29272269482396, -511.7761599999999], [361.29272269482396, -511.5449441140943], [361.3986582144006, -511.3264749305956], [361.5802, -511.1832999999998]], [[361.5802, -511.1832999999998], [361.8206495503615, -510.9936644709679], [361.9609595568398, -510.7043036413451], [361.96096, -510.3980599999981]], [[361.96096, -510.3980599999981], [361.96096, -510.3980599999981], [361.96095999999994, -509.42606999999987], [361.96096000000006, -509.4260700000003]], [[361.96096000000006, -509.4260700000003], [361.9609575389146, -509.2934543175232], [362.01363388064914, -509.16626941427563], [362.10740051673986, -509.0724952767039]], [[362.10740051673986, -509.0724952767039], [362.2011671528306, -508.9787211391321], [362.32834297694615, -508.92603948806834], [362.46094999999997, -508.92603999999994]], [[362.46094999999997, -508.92603999999994], [362.46094999999997, -508.92603999999994], [380.21052999999995, -508.9260399999999], [380.21052999999995, -508.92603999999994]], [[380.21052999999995, -508.92603999999994], [380.3431352904366, -508.92604214041734], [380.4703085455062, -508.97872496238455], [380.56407301877147, -509.072498812472]], [[380.56407301877147, -509.072498812472], [380.6578374920368, -509.1662726625595], [380.7105124610691, -509.29345605023565], [380.7105099999999, -509.42606999999873]], [[380.7105099999999, -509.42606999999873], [380.7105099999999, -509.42606999999873], [380.71050999999994, -509.5980299999999], [380.71051, -509.5980299999899]], [[380.71051, -509.5980299999899], [380.7105128581486, -509.9042753431489], [380.85082669844877, -510.19363647968476], [381.09128, -510.3832699999998]], [[381.09128, -510.3832699999998], [381.2728217855994, -510.5264449305955], [381.378757305176, -510.7449141140941], [381.378757305176, -510.97612999999984]], [[381.378757305176, -510.97612999999984], [381.378757305176, -511.2073458859055], [381.2728217855993, -511.4258150694041], [381.09128, -511.56898999999987]], [[381.09128, -511.56898999999987], [380.85082669844877, -511.7586235203149], [380.7105128581486, -512.0479846568508], [380.71051, -512.3542300000098]], [[380.71051, -512.3542300000098], [380.71051, -512.3542300000098], [380.71050999999994, -512.5981499999999], [380.71051, -512.5981499999899]], [[380.71051, -512.5981499999899], [380.7105128581486, -512.904395343149], [380.85082669844877, -513.1937564796848], [381.09128, -513.38339]], [[381.09128, -513.38339], [381.2728217855993, -513.5265649305957], [381.3787573051759, -513.7450341140944], [381.3787573051759, -513.9762499999999]], [[381.3787573051759, -513.9762499999999], [381.3787573051759, -514.2074658859055], [381.27282178559926, -514.4259350694042], [381.0912799999999, -514.5691099999999]], [[381.0912799999999, -514.5691099999999], [380.85082669844877, -514.758743520315], [380.7105128581486, -515.0481046568508], [380.71051, -515.3543500000098]], [[380.71051, -515.3543500000098], [380.71051, -515.3543500000098], [380.71050999999994, -515.59827], [380.71051, -515.598270000062]], [[380.71051, -515.598270000062], [380.71050979603103, -515.9045188523717], [380.85082394320546, -516.1938843067404], [381.0912799999999, -516.3835200000001]], [[381.0912799999999, -516.3835200000001], [381.27281802980275, -516.5266951175838], [381.3787509653862, -516.7451619475848], [381.3787509653862, -516.976375]], [[381.3787509653862, -516.976375], [381.3787509653862, -517.2075880524151], [381.27281802980275, -517.4260548824162], [381.0912799999999, -517.56923]], [[381.0912799999999, -517.56923], [380.8508239432054, -517.7588656932594], [380.71050979603103, -518.0482311476281], [380.71051, -518.3544799999377]], [[380.71051, -518.3544799999377], [380.71051, -518.3544799999377], [380.71050999999994, -518.42648], [380.7105099999999, -518.4264800000011]], [[380.7105099999999, -518.4264800000011], [380.7105124610691, -518.5590939497642], [380.6578374920368, -518.6862773374403], [380.56407301877147, -518.7800511875279]], [[380.56407301877147, -518.7800511875279], [380.4703085455062, -518.8738250376153], [380.3431352904366, -518.9265078595827], [380.21052999999995, -518.92651]], [[380.21052999999995, -518.92651], [380.21052999999995, -518.92651], [377.5105899999999, -518.92651], [377.5105899999999, -518.92651]], [[377.5105899999999, -518.92651], [377.5105899999999, -518.92651], [377.5105899999999, -517.32644], [377.5105899999999, -517.32644]], [[377.5105899999999, -517.32644], [377.5105899999999, -517.32644], [378.5105699999999, -517.32644], [378.5105699999999, -517.32644]], [[378.5105699999999, -517.32644], [378.5105699999999, -517.32644], [379.51053999999993, -516.3264], [379.51053999999993, -516.3264]], [[379.51053999999993, -516.3264], [379.51053999999993, -516.3264], [379.51053999999993, -511.42620000000005], [379.51054, -511.4262000000079]], [[379.51054, -511.4262000000079], [379.51053960242615, -511.15004961463217], [379.2866923534671, -510.92618445717346], [379.01056, -510.92618000000016]], [[379.01056, -510.92618000000016], [379.01056, -510.92618000000016], [376.61060999999995, -510.92618000000004], [376.61060999999995, -510.92618000000004]], [[376.61060999999995, -510.92618000000004], [376.61060999999995, -510.92618000000004], [376.61060999999995, -510.12614], [376.61060999999995, -510.12614]], [[376.61060999999995, -510.12614], [376.61060999999995, -510.12614], [366.06086, -510.12609], [366.06086, -510.12609]], [[366.06086, -510.12609], [366.06086, -510.12609], [366.06086, -510.12609], [366.06086, -510.12609]]]);
}

/**
 * Stripped down version of "bezier_v2.scad".
 * For full version, see: https://www.thingiverse.com/thing:2170645
 */

function BEZ03(u) = pow((1-u), 3);
function BEZ13(u) = 3*u*(pow((1-u),2));
function BEZ23(u) = 3*(pow(u,2))*(1-u);
function BEZ33(u) = pow(u,3);

function bezier_2D_point(p0, p1, p2, p3, u) = [
	BEZ03(u)*p0[0]+BEZ13(u)*p1[0]+BEZ23(u)*p2[0]+BEZ33(u)*p3[0],
	BEZ03(u)*p0[1]+BEZ13(u)*p1[1]+BEZ23(u)*p2[1]+BEZ33(u)*p3[1]
];

function bezier_coordinates(points, steps) = [
	for (c = points)
		for (step = [0:steps])
			bezier_2D_point(c[0], c[1], c[2],c[3], step/steps)
];

module bezier_polygon(points) {
	steps = $fn <= 0 ? 30 : $fn;
	polygon(bezier_coordinates(points, steps));
}
